; Test file for auto-fill functionality
option "operating_currency" "USD"
option "inferred_tolerance_default" "USD:0.01"
option "inferred_tolerance_default" "BTC:0.00000001"
option "inferred_tolerance_default" "JPY:1"

; Open accounts
2025-10-01 open Assets:Stock
2025-10-01 open Expenses:Trading
2025-10-01 open Expenses:Food
2025-10-01 open Assets:Cash
2025-10-01 open Assets:Crypto
2025-10-01 open Assets:US:Broker:IRA:Stocks:Tech
2025-10-01 open Assets:JPY

; Test transaction 1: Stock purchase with missing cash balance
2025-10-10 * "AAPL" "Stock Purchase"
  Assets:Stock                      100.00 AAPL {200.00 USD}
  Expenses:Trading                  2.00 USD
  Assets:Cash

; Test transaction 2: Simple expense with missing account balance
2025-10-11 * "Grocery Store" "Weekly groceries"
  Expenses:Food                     50.00 USD
  Assets:Cash

; Test transaction 3: Stock purchase with incomplete cost basis (missing date and @@)
2025-10-12 * "AAPL" "Stock Purchase with Cost"
  Assets:Stock                      100.00 AAPL {150.00 USD}
  Assets:Cash                       -15000.00 USD

; Test transaction 4: Stock sale with incomplete cost basis
2025-10-13 * "AAPL" "Stock Sale"
  Assets:Stock                      -50.00 AAPL {150.00 USD}
  Assets:Cash                       7500.00 USD

; Test transaction 5: Stock with cost basis that already has date (should still add @@)
2025-10-14 * "AAPL" "Stock Purchase with Date"
  Assets:Stock                      25.00 AAPL {200.00 USD, 2025-10-14}
  Assets:Cash                       -5000.00 USD

; Test transaction 6: Stock with complete cost basis (should NOT modify)
2025-10-15 * "AAPL" "Already Complete"
  Assets:Stock                      10.00 AAPL {180.00 USD, 2025-10-15} @@ 1800.00 USD
  Assets:Cash                       -1800.00 USD

; Edge case 7: High precision cost (3 decimals - should preserve 100.438)
2025-10-16 * "SGOV" "High precision cost"
  Assets:Stock                      65.00 SGOV {100.438 USD}
  Assets:Cash                       -6528.47 USD

; Edge case 8: BTC precision (8 decimals for total)
2025-10-17 * "ETH" "Crypto purchase"
  Assets:Crypto                     0.5 ETH {0.05 BTC}
  Assets:Cash

; Edge case 9: JPY with 0 decimal places
2025-10-18 * "JP-STOCK" "JPY stock purchase"
  Assets:Stock                      100 JPSTOCK {150 JPY}
  Assets:JPY                        -15000 JPY

; Edge case 10: Deeply nested account name
2025-10-19 * "AAPL" "Deep nested account"
  Assets:US:Broker:IRA:Stocks:Tech  10.00 AAPL {200.00 USD}
  Assets:Cash                       -2000.00 USD
