; Test file for auto-fill functionality
option "operating_currency" "USD"

; Open accounts
2025-10-01 open Assets:Stock
2025-10-01 open Expenses:Trading
2025-10-01 open Expenses:Food
2025-10-01 open Assets:Cash

; Test transaction 1: Stock purchase with missing cash balance
2025-10-10 * "AAPL" "Stock Purchase"
  Assets:Stock                      100.00 AAPL {200.00 USD}
  Expenses:Trading                  2.00 USD
  Assets:Cash

; Test transaction 2: Simple expense with missing account balance
2025-10-11 * "Grocery Store" "Weekly groceries"
  Expenses:Food                     50.00 USD
  Assets:Cash

; Test transaction 3: Stock purchase with incomplete cost basis (missing date and @@)
2025-10-12 * "AAPL" "Stock Purchase with Cost"
  Assets:Stock                      100.00 AAPL {150.00 USD}
  Assets:Cash                       -15000.00 USD

; Test transaction 4: Stock sale with incomplete cost basis
2025-10-13 * "AAPL" "Stock Sale"
  Assets:Stock                      -50.00 AAPL {150.00 USD}
  Assets:Cash                       7500.00 USD

; Test transaction 5: Stock with cost basis that already has date (should still add @@)
2025-10-14 * "AAPL" "Stock Purchase with Date"
  Assets:Stock                      25.00 AAPL {200.00 USD, 2025-10-14}
  Assets:Cash                       -5000.00 USD

; Test transaction 6: Stock with complete cost basis (should NOT modify)
2025-10-15 * "AAPL" "Already Complete"
  Assets:Stock                      10.00 AAPL {180.00 USD, 2025-10-15} @@ 1800.00 USD
  Assets:Cash                       -1800.00 USD
